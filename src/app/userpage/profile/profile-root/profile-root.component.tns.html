<AbsoluteLayout #profileEditor>
  <ScrollView width="100%" height="100%" class="bg-theme-secondary">
    <StackLayout orientation="vertical" class="p-15 bg-theme-secondary" [formGroup]="pForm">
      <!-- // -->
      <Image [src]="getAvatar()"
        stretch="aspectFill" height="165" width="165" style="border-radius:80; margin:40 0;"
        (tap)="photoDialog()"></Image>

      <!-- // -->
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('username')">
        <Label dock="left" class="label-left" text="ユーザーネーム"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('username')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('firstName')">
        <Label dock="left" class="label-left" text="名"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('firstName')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('lastName')">
        <Label dock="left" class="label-left" text="姓"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('lastName')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('status')">
        <Label dock="left" class="label-left" text="ステータス"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('status')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('emailAddress')">
        <Label dock="left" class="label-left" text="メールアドレス"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('emailAddress')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('description')">
        <Label dock="left" class="label-left" text="自己紹介"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('description')"></Label>
      </DockLayout>
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true"
        (tap)="toEdit('password')">
        <Label dock="left" class="label-left" text="パスワード"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label [text]="getCurrent('password')"></Label>
      </DockLayout>
      <!-- // -->
      <DockLayout class="input-like m-b-10"
        stretchLasthChild="true">
        <Label dock="left" class="label-left" text="その他"></Label>
        <Label dock="right" class="icon label-right" text="&#xe930;"></Label>
        <Label text=""></Label>
      </DockLayout>

      <!-- // -->
      <Label class="h3 m-y-10" text="コミュニティ"></Label>
      <ng-template ngFor let-item [ngForOf]="currentList" let-i="index">
        <StackLayout class="bg-theme-secondary">
          <CardView margin="1 0" elevation="5" backgroundColor="#fff">
            <StackLayout height="90">
              <GridLayout columns="80,*,60" rows="*" class="p-15">
                <Image col="0" class="m-r-15" style="border-radius:80;" stretch="aspectFill" width="60" height="60"
                  src="{{ item.photoUrl || '~/assets/placeholder__group.png' }}"></Image>
                <FlexboxLayout col="1" width="100%"
                  flexDirection="column"
                  justifyContent="space-around">
                  <Label class="typo-list-heading" text="{{ item.name }}"></Label>
                  <Label class="typo-label" android:style="margin-top:-14;">
                    <FormattedString>
                      <Span class="text-theme" text="{{ item.tokenSymbol }}"></Span>
                      <Span text=" {{ item.point ? item.point : 0 }}"></Span>
                    </FormattedString>
                  </Label>
                </FlexboxLayout>
                <Label col="2" class="h2 p-10 icon text-theme" text="&#xe930;" style="vertical-align:center; text-align:right;"></Label>
              </GridLayout>
            </StackLayout>
          </CardView>
        </StackLayout>
      </ng-template>
      <!-- // -->
    </StackLayout>
  </ScrollView>

  <StackLayout left="0" top="0" width="100%" height="60" class="bg-clear">
    <CustomActionBar [title]="title" rightIcon="&#xe989;" (onAprove)="logout()"></CustomActionBar>
  </StackLayout>
</AbsoluteLayout>
