<DockLayout #pointSender width="100%" height="100%">
  <StackLayout dock="top" class="bg-theme-secondary" height="60">
    <CustomActionBar [title]="title" leftIcon="{{ isModal ? '&#xea02;' : '&#xe92f;' }}"
      (onCancel)="closeAction(pointSender)"></CustomActionBar>
  </StackLayout>

  <ScrollView class="bg-theme-secondary">
    <StackLayout>
      <StackLayout padding="20 20 25">
        <SearchboxLike *ngIf="selectionState == 'default'; else isSearchState"
          placeholder="ユーザー名で絞り込む"
          (onSearch)="searchAction()"></SearchboxLike>
        <ng-template #isSearchState>
          <CustomSearchbox
            placeholder="ユーザー名で絞り込む"
            followContent="キャンセル"
            focusAtInit="true"
            (onTapFollowContent)="closeAction(pointSender)"
            (onSearch)="searchAction($event)">
          </CustomSearchbox>
        </ng-template>
      </StackLayout>

      <!-- // -->
      <ActivityIndicator *ngIf="currentList.length == 0" busy="true" width="20"></ActivityIndicator>

      <!-- // -->
      <ng-template ngFor let-item [ngForOf]="currentList" let-i="index">
        <StackLayout class="bg-theme-secondary">
          <CardView margin="1 20" elevation="5" class="bg-white"
            (tap)="onItemTap(item)">
            <StackLayout height="90">
              <GridLayout columns="80,*,60" rows="*" class="p-15">
                <Image col="0" class="m-r-15" style="border-radius:80;" stretch="aspectFill" width="60" height="60" loadMode="async"
                  src="{{ item.avatarUrl || '~/assets/placeholder__user.png' }}"></Image>
                <FlexboxLayout col="1" width="100%">
                  <Label class="typo-list-heading" text="{{ item.username }}" alignSelf="center"></Label>
                </FlexboxLayout>
                <Label col="2" class="h2 p-10 icon text-theme" text="&#xe930;"
                  style="vertical-align:center; text-align:right;"></Label>
              </GridLayout>
            </StackLayout>
          </CardView>
        </StackLayout>
      </ng-template>

      <StackLayout class="p-x-10 bg-theme-secondary">
        <FlexboxLayout
          flexDirection="column"
          justifyContent="space-around"
          alignItems="center"
          height="90">
          <Button *ngIf="currentList.length > 0 && currentQueryParams?.pagination?.lastPage > currentQueryParams?.pagination?.page"
            class="btn btn-rounded-lg btn-primary btn-black" width="40%" text="さらに読む"
            (tap)="moreResult()"></Button>
        </FlexboxLayout>
      </StackLayout>

    </StackLayout>
  </ScrollView>

  <!-- <RadListView class="bg-theme-secondary"
       (itemTap)="onItemTap($event)"
       [items]="currentList">
       <ng-template tkListItemTemplate let-item="item" let-i="index">

       <StackLayout class="bg-theme-secondary">
       <CardView margin="1 20" elevation="5" class="bg-white">
       <StackLayout height="90">
       <GridLayout columns="80,*,60" rows="*" class="p-15">
       <Image col="0" class="m-r-15" style="border-radius:80;" stretch="aspectFill" width="60" height="60" loadMode="async"
       src="{{ item.avatarUrl || '~/assets/placeholder__user.png' }}"></Image>
       <FlexboxLayout col="1" width="100%">
       <Label class="typo-list-heading" text="{{ item.username }}" alignSelf="center"></Label>
       </FlexboxLayout>
       <Label col="2" class="h2 p-10 icon text-theme" text="&#xe930;"
       style="vertical-align:center; text-align:right;"></Label>
       </GridLayout>
       </StackLayout>
       </CardView>
       </StackLayout>
       </ng-template>

       <ng-template tkListViewHeader>
       <StackLayout padding="20 20 25">
       <SearchboxLike *ngIf="selectionState == 'default'; else isSearchState"
       placeholder="ユーザー名で絞り込む"
       (onSearch)="searchAction()"></SearchboxLike>
       <ng-template #isSearchState>
       <CustomSearchbox
       placeholder="ユーザー名で絞り込む"
       followContent="キャンセル"
       (onTapFollowContent)="closeAction(pointSender)"
       (onSearch)="searchAction($event)">
       </CustomSearchbox>
       </ng-template>
       </StackLayout>
       </ng-template>
       </RadListView> -->

</DockLayout>
